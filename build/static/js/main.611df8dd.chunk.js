(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],[,,,function(e,t,a){e.exports={photocard:"PhotoCard_photocard__17R2x",stats:"PhotoCard_stats__1KyZh",statsitem:"PhotoCard_statsitem__2ntLJ",fullscreenbutton:"PhotoCard_fullscreenbutton__2evET",galleryitem:"PhotoCard_galleryitem__GDyHa",button:"PhotoCard_button__3eklT"}},,,,,,,,function(e,t,a){e.exports={picturLoad:"Loader_picturLoad__2A8a3",bgcolorWrapper:"Loader_bgcolorWrapper__2Z8_a"}},function(e,t,a){e.exports={btnWrap:"SearchForm_btnWrap__UTXek",button:"SearchForm_button__2R1FR"}},,,function(e,t,a){},function(e,t,a){e.exports={gallery:"Gallery_gallery__2i2YX"}},function(e,t,a){e.exports=a.p+"static/media/loading.8fdc7be1.gif"},function(e,t,a){e.exports={searchform:"Search_searchform__urJdw"}},function(e,t,a){e.exports=a(26)},,,,,,,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(2),o=a.n(c),l=(a(15),a(13)),i=a(4),s=a(5),u=a(7),m=a(6),h=a(8),p=a(16),d=a.n(p),f=a(3),b=a.n(f),g=[b.a.photocard],y=[b.a.stats],_=[b.a.statsitem],E=[b.a.materialicons],v=(b.a.fullscreenbutton,[b.a.button]),N=function(e){var t=e.id,a=e.webformatURL,r=e.likes,c=e.views,o=e.comments,l=e.downloads;return n.a.createElement("div",{key:t,className:g},n.a.createElement("img",{src:a,alt:""}),n.a.createElement("div",{className:y},n.a.createElement("p",{className:_},n.a.createElement("i",{className:"material-icons"},"thumb_up"),r),n.a.createElement("p",{className:_},n.a.createElement("i",{className:"material-icons"},"visibility"),c),n.a.createElement("p",{className:_},n.a.createElement("i",{className:"material-icons"},"comment"),o),n.a.createElement("p",{className:_},n.a.createElement("i",{className:"material-icons"},"cloud_download"),l)),n.a.createElement("button",{type:"button",className:v},n.a.createElement("i",{className:E},"zoom_out_map")))},O=[d.a.gallery],S=function(e){var t=e.articles;return n.a.createElement("ul",{className:O},t.map((function(e){return n.a.createElement("li",{key:e.id},n.a.createElement(N,{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads}))})))},w={fetchArticles:function(e,t){return fetch("https://pixabay.com/api/?key=14147963-1172996dfbc4032cf6219bd1a&q=".concat(e,"&page=").concat(t,"&image_type=photo&pretty=true")).then((function(e){return e.json()})).then((function(e){return e.hits}))}},j=a(17),L=a.n(j),k=a(11),C=a.n(k),q=[C.a.picturLoad],x=[C.a.bgcolorWrapper],A=document.querySelector("#loader-root"),P=function(){return Object(c.createPortal)(n.a.createElement("div",{className:x},n.a.createElement("div",{className:q},n.a.createElement("img",{src:L.a,alt:"load"}))),A)},R=a(10),T=document.querySelector("#error-root"),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).errorNotyf=function(){return o()(R.c.error("\u041e\u0448\u0438\u0431\u043a\u0430!",{position:R.c.POSITION.BOTTOM_LEFT}),T)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(R.a,{autoClose:2500,transition:R.b})}}]),t}(r.Component),I=a(18),W=[a.n(I).a.searchform],F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={query:""},a.handleChange=function(e){a.setState({query:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.query;console.log(t),a.props.onSearch(t),a.setState({query:""})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.query;return n.a.createElement("form",{className:W,onSubmit:this.handleSubmit},n.a.createElement("input",{type:"text",onChange:this.handleChange,value:e,autoComplete:"off",placeholder:"Search images..."}))}}]),t}(r.Component),J=a(12),B=a.n(J),D=[B.a.button],G=[B.a.btnWrap],H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={isLoading:!1,articles:[],error:null,pageNum:1,query:""},a.onSearch=function(e){a.setState({query:e,articles:[],isLoading:!0,pageNum:1})},a.fetchArticles=function(){a.setState({isLoading:!0});var e=a.state,t=e.pageNum,r=e.query;w.fetchArticles(r,t).then((function(e){a.setState((function(t){return{articles:[].concat(Object(l.a)(t.articles),Object(l.a)(e)),pageNum:t.pageNum+1}}))})).catch((function(e){a.setState({error:e})})).finally((function(){a.setState({isLoading:!1}),window.scrollTo({top:document.getElementById("root").scrollHeight,behavior:"smooth"})}))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.query;t.query!==a&&this.fetchArticles()}},{key:"render",value:function(){var e=this.state,t=e.articles,a=e.isLoading,r=e.error;return n.a.createElement("div",null,n.a.createElement(F,{onSearch:this.onSearch}),r&&n.a.createElement(U,null),a&&n.a.createElement(P,null),n.a.createElement("div",null,t.length>0&&n.a.createElement(S,{articles:t})),n.a.createElement("div",{className:G},n.a.createElement("button",{className:D,type:"button",onClick:this.fetchArticles},"Load more articles")))}}]),t}(r.Component);H.defaultProps={};var X=H,Z=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(X,null))};o.a.render(n.a.createElement(Z,null),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.611df8dd.chunk.js.map