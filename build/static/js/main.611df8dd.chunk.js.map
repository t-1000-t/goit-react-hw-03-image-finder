{"version":3,"sources":["components/PhotoCard/PhotoCard.module.css","components/Loader/Loader.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/Loader/loading.gif","components/SearchInput/Search.module.css","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Services/ArticlesAPI.js","components/Loader/Loader.jsx","components/Services/ErrorNotyf.jsx","components/SearchInput/SearchInput.jsx","components/SearchForm/SearchForm.jsx","components/App/App.jsx","index.js"],"names":["module","exports","photocard","styles","stats","statsitem","materialicons","button","fullscreenbutton","PhotoCard","id","webformatURL","likes","views","comments","downloads","key","className","src","alt","type","gallery","Gallery","articles","map","elem","largeImageURL","fetchArticles","query","pageNum","fetch","then","res","json","data","hits","picturLoad","bgcolorWrapper","LOADER_ROOT","document","querySelector","ThreeDots","createPortal","preloader","ERROR_ROOT","ErrorNotyf","errorNotyf","toast","error","position","POSITION","BOTTOM_LEFT","autoClose","transition","Zoom","Component","searchform","SearchInput","state","handleChange","e","setState","target","value","handleSubmit","preventDefault","console","log","props","onSearch","this","onSubmit","onChange","autoComplete","placeholder","btnWrap","SearchForm","isLoading","articlesAPI","catch","finally","window","scrollTo","top","getElementById","scrollHeight","behavior","prevProps","prevState","length","onClick","defaultProps","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.611df8dd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photocard\":\"PhotoCard_photocard__17R2x\",\"stats\":\"PhotoCard_stats__1KyZh\",\"statsitem\":\"PhotoCard_statsitem__2ntLJ\",\"fullscreenbutton\":\"PhotoCard_fullscreenbutton__2evET\",\"galleryitem\":\"PhotoCard_galleryitem__GDyHa\",\"button\":\"PhotoCard_button__3eklT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picturLoad\":\"Loader_picturLoad__2A8a3\",\"bgcolorWrapper\":\"Loader_bgcolorWrapper__2Z8_a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnWrap\":\"SearchForm_btnWrap__UTXek\",\"button\":\"SearchForm_button__2R1FR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2i2YX\"};","module.exports = __webpack_public_path__ + \"static/media/loading.8fdc7be1.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchform\":\"Search_searchform__urJdw\"};","import React from 'react';\r\nimport T from 'prop-types';\r\nimport styles from './PhotoCard.module.css';\r\n\r\nconst photocard = [styles.photocard];\r\nconst stats = [styles.stats];\r\nconst statsitem = [styles.statsitem];\r\nconst materialicons = [styles.materialicons];\r\nconst fullscreenbutton = [styles.fullscreenbutton];\r\nconst button = [styles.button];\r\n// const galleryitem = [styles.galleryitem];\r\n\r\nconst PhotoCard = ({ id, webformatURL, likes, views, comments, downloads }) => (\r\n  <div key={id} className={photocard}>\r\n    <img src={webformatURL} alt=\"\" />\r\n\r\n    <div className={stats}>\r\n      <p className={statsitem}>\r\n        <i className=\"material-icons\">thumb_up</i>\r\n        {likes}\r\n      </p>\r\n      <p className={statsitem}>\r\n        <i className=\"material-icons\">visibility</i>\r\n        {views}\r\n      </p>\r\n      <p className={statsitem}>\r\n        <i className=\"material-icons\">comment</i>\r\n        {comments}\r\n      </p>\r\n      <p className={statsitem}>\r\n        <i className=\"material-icons\">cloud_download</i>\r\n        {downloads}\r\n      </p>\r\n    </div>\r\n\r\n    {/* <!-- Кнопка для открытия модалки с большим изображением, появляется при наведении --> */}\r\n    <button type=\"button\" className={(fullscreenbutton, button)}>\r\n      <i className={materialicons}>zoom_out_map</i>\r\n    </button>\r\n  </div>\r\n);\r\n\r\nPhotoCard.propTypes = {\r\n  id: T.number.isRequired,\r\n  webformatURL: T.string.isRequired,\r\n  likes: T.number.isRequired,\r\n  views: T.number.isRequired,\r\n  comments: T.number.isRequired,\r\n  downloads: T.number.isRequired,\r\n};\r\n\r\nexport default PhotoCard;\r\n","import React from 'react';\r\nimport styles from './Gallery.module.css';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\n\r\nconst gallery = [styles.gallery];\r\n\r\nconst Gallery = ({ articles }) => (\r\n  <ul className={gallery}>\r\n    {articles.map(elem => (\r\n      <li key={elem.id}>\r\n        <PhotoCard\r\n          id={elem.id}\r\n          webformatURL={elem.webformatURL}\r\n          largeImageURL={elem.largeImageURL}\r\n          likes={elem.likes}\r\n          views={elem.views}\r\n          comments={elem.comments}\r\n          downloads={elem.downloads}\r\n        />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default Gallery;\r\n","const fetchArticles = (query, pageNum) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?key=14147963-1172996dfbc4032cf6219bd1a&q=${query}&page=${pageNum}&image_type=photo&pretty=true`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.hits);\r\n};\r\n\r\nexport default { fetchArticles };\r\n","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport preloader from './loading.gif';\r\nimport styles from './Loader.module.css';\r\n\r\nconst picturLoad = [styles.picturLoad];\r\nconst bgcolorWrapper = [styles.bgcolorWrapper];\r\n\r\nconst LOADER_ROOT = document.querySelector('#loader-root');\r\n\r\nconst ThreeDots = () =>\r\n  createPortal(\r\n    <div className={bgcolorWrapper}>\r\n      <div className={picturLoad}>\r\n        <img src={preloader} alt=\"load\" />\r\n      </div>\r\n    </div>,\r\n    LOADER_ROOT,\r\n  );\r\n\r\nexport default ThreeDots;\r\n","import React, { Component } from 'react';\r\nimport { ToastContainer, Zoom, toast } from 'react-toastify';\r\nimport createPortal from 'react-dom';\r\n\r\nconst ERROR_ROOT = document.querySelector('#error-root');\r\n\r\nclass ErrorNotyf extends Component {\r\n  errorNotyf = () =>\r\n    createPortal(\r\n      toast.error('Ошибка!', {\r\n        position: toast.POSITION.BOTTOM_LEFT,\r\n      }),\r\n      ERROR_ROOT,\r\n    );\r\n\r\n  render() {\r\n    return <ToastContainer autoClose={2500} transition={Zoom} />;\r\n  }\r\n}\r\n\r\nexport default ErrorNotyf;\r\n","import React, { Component } from 'react';\r\nimport styles from './Search.module.css';\r\n\r\nconst searchform = [styles.searchform];\r\n\r\nexport default class SearchInput extends Component {\r\n  state = { query: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      query: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { query } = this.state;\r\n    console.log(query);\r\n\r\n    this.props.onSearch(query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <form className={searchform} onSubmit={this.handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          onChange={this.handleChange}\r\n          value={query}\r\n          autoComplete=\"off\"\r\n          placeholder=\"Search images...\"\r\n        />\r\n        {/* <button type=\"submit\">search</button> */}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Gallery from '../Gallery/Gallery';\r\nimport articlesAPI from '../Services/ArticlesAPI';\r\nimport ThreeDots from '../Loader/Loader';\r\nimport ErrorNotyf from '../Services/ErrorNotyf';\r\nimport SearchInput from '../SearchInput/SearchInput';\r\nimport styles from './SearchForm.module.css';\r\n\r\nconst button = [styles.button];\r\nconst btnWrap = [styles.btnWrap];\r\n\r\nclass SearchForm extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {};\r\n\r\n  state = {\r\n    isLoading: false,\r\n    articles: [],\r\n    error: null,\r\n    pageNum: 1,\r\n    query: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query } = this.state;\r\n    if (prevState.query !== query) {\r\n      this.fetchArticles();\r\n    }\r\n  }\r\n\r\n  onSearch = query => {\r\n    this.setState({\r\n      query,\r\n      articles: [],\r\n      isLoading: true,\r\n      pageNum: 1,\r\n    });\r\n  };\r\n\r\n  fetchArticles = () => {\r\n    this.setState({ isLoading: true });\r\n\r\n    const { pageNum, query } = this.state;\r\n\r\n    articlesAPI\r\n      .fetchArticles(query, pageNum)\r\n      .then(data => {\r\n        this.setState(state => ({\r\n          articles: [...state.articles, ...data],\r\n          pageNum: state.pageNum + 1,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n        window.scrollTo({\r\n          top: document.getElementById('root').scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { articles, isLoading, error } = this.state;\r\n    return (\r\n      <div>\r\n        <SearchInput onSearch={this.onSearch} />\r\n        {error && <ErrorNotyf />}\r\n        {isLoading && <ThreeDots />}\r\n        <div>{articles.length > 0 && <Gallery articles={articles} />}</div>\r\n        <div className={btnWrap}>\r\n          <button className={button} type=\"button\" onClick={this.fetchArticles}>\r\n            Load more articles\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\n\r\nconst App = () => (\r\n  <div className=\"App\">\r\n    <SearchForm />\r\n  </div>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './components/App/App.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}